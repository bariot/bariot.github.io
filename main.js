var plot = [
    {
        "bgColor": "./assets/bcg_office2.jpg",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Зов Ктулху"
    },
    {
        "bgColor": "./assets/bcg_office2.jpg",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Офис."
    },
    {
        "bgColor": "./assets/bcg_office2.jpg",
        "leftImage": "assets/an2.png",
        "rightImage": null,
        "speaker": "Настя",
        "text": "Привет, как прошли выходные?"
    },
    {
        "bgColor": "./assets/bcg_office2.jpg",
        "leftImage": null,
        "rightImage": "./assets/fr2.png",
        "speaker": "Вика",
        "text": "Привет. Просто ужасно. Все выходные пришлось заниматься этим договором. Я не..."
    },
    {
        "bgColor": "./assets/bcg_office2.jpg",
        "leftImage": null,
        "rightImage": "./assets/s1.png",
        "speaker": "Сергей(улыбаясь)",
        "text": "Что за две роскошные тигрицы? Рядом в зоопарке опять забыли закрыть ворота?"
    },
    {
        "bgColor": "./assets/bcg_office2.jpg",
        "leftImage": null,
        "rightImage": "./assets/s1.png",
        "speaker": "Сергей(флиртующе улыбаясь)",
        "text": "Настя, привет. Как всегда прекрасно вглядишь"
    },
    {
        "bgColor": "./assets/bcg_office2.jpg",
        "leftImage": "./assets/an2.png",
        "rightImage": null,
        "speaker": "Настя(сухо)",
        "text": "Привет"
    },
    {
        "bgColor": "./assets/bcg_office2.jpg",
        "leftImage": "./assets/an2.png",
        "rightImage": null,
        "speaker": "Настя",
        "text": "Господи, что за дурацкий подкат."
    },
    {
        "bgColor": "./assets/bcg_office2.jpg",
        "leftImage": "./assets/an2.png",
        "rightImage": null,
        "speaker": "Настя",
        "text": "Какой же он настырный. Вот всë никак не уймется"
    },
    {
        "bgColor": "./assets/bcg_office2.jpg",
        "leftImage": null,
        "rightImage": "./assets/fr2.png",
        "speaker": "Вика",
        "text": "А по-моему, мило. О я, конечно, не про подкат - это кошмар полный. А про знаки внимания. Ты ему явно нравишься и, он к тебе неровно дышит"
    },
    {
        "bgColor": "./assets/portal.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Сразу после этой беседы, герои разошлись по своим рабочим местам. Внезапно, в центре офиса начало формироваться что-то странное. Портал, сияющий сверкающими огнями, открылся, и его энергия начала разрушать стены офисного пространства. Работники в испуге бросились врассыпную, пытаясь спастись от необъяснимой угрозы. Из портала вышли два страшных демона, испускающих серый туман. Их глаза сверкали зловещим светом, и в руках они держали огромные темные цепи. Все вокруг наполнилось мраком и холодом."
    },
    {
        "bgColor": "./assets/portal.png",
        "leftImage": "./assets/demon1.png",
        "rightImage": null,
        "speaker": "Демон1",
        "text": "Бариот - убийца демонов, мы тебя нашли! Теперь ты сам к нам придешь, и мы отомстим тебе за наших сородичей."
    },
    {
        "bgColor": "./assets/portal.png",
        "leftImage": "./assets/demon1.png",
        "rightImage": null,
        "speaker": "Демон1",
        "text": "Хватай ее. "
    },
    {
        "bgColor": "./assets/portal.png",
        "leftImage": "./assets/demon1.png",
        "rightImage": null,
        "speaker": "Демон1",
        "text": "Он точно за ней явится!"
    },
    {
        "bgColor": "./assets/portal.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Демоны направили свой взгляд на Настю, определенно выделяя ее среди всех присутствующих."
    },
    {
        "bgColor": "./assets/portal.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Настя, едва понимая, что происходит, была взята в плен демонами. Она пыталась сопротивляться, но их темные цепи были слишком могущественными."
    },
    {
        "bgColor": "./assets/portal.png",
        "leftImage": "./assets/an2.png",
        "rightImage": null,
        "speaker": "Настя(милым и дрожащим голосом)",
        "text": "Спасите"
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "./assets/s1.png",
        "speaker": "Сергей",
        "text": "Они все-таки нашли меня и забрали Настю... Я должен ее спасти во что бы то ни стало..."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Сергей, ощущая опасность, быстро реагирует и налагает магический щит на Настю, сдерживая попытки демонов унести её через портал."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "./assets/s1.png",
        "speaker": "Сергей",
        "text": "'Custos Vita!' (жизненный щит)"
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Этот магический барьер демоном не преодолеть и они озадаченно отступают. "
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Демоны, не смогшие преодолеть магический барьер, озадаченно отступают. Однако, пока Сергей осмеливается отдышаться, один из демонов удирает, утащив Настю через портал."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "./assets/s1.png",
        "speaker": "Сергей (с гневом)",
        "text": "Проклятие!"
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Вдруг портал начал терять энергию и быстро закрываться. Сергей, понимая, что не успеет в портал, призывает своего верного помощника-леприкона"
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "./assets/s1.png",
        "speaker": "Сергей",
        "text": "Лепи, следи за ними, выясни, куда они унесли Настю. Верю в тебя, мой друг"
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Леприкон кивает, исчезая в вихре света, чтобы следовать за демонами и выяснить их намерения."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Сергей, после того как портал окончательно закрылся, начал осматривать офис в поисках Вики. "
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Вика сидела в углу офиса, окруженная рарушенными балками здания"
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "../assets/fr2.png",
        "speaker": "Вика (испугано)",
        "text": "Что происходит? Что это было?"
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Сергей, стоящий в разгромленном офисе, понимает, что ему ничего не остается, кроме как следовать за демонами в их мир. Он достает из кармана амулет, предназначенный для открытия порталов между мирами, и смотрит на него, словно подтверждая свое решение."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "./assets/s1.png",
        "speaker": "Сергей (с решимостью)",
        "text": "Настя, я не оставлю тебя в руках этих тварей. Мир демонов, держись."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "./assets/s1.png",
        "speaker": "Сергей",
        "text": "Нужно применить заклятие \"передеватус\", чтобы обличится в мой костюм для истребления демонов"
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "./assets/s1_other.png",
        "speaker": "Сергей",
        "text": "Ой, не тот.."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "./assets/s1_otherGod.png",
        "speaker": "Сергей",
        "text": " нет, не та эпоха..."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "./assets/s1_mainlook.png",
        "speaker": "Сергей",
        "text": "Идеально."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "С уверенностью в своих силах, Сергей начинает читать заклинание, призывая портал. Энергия амулета начинает сверкать, создавая вокруг него магический вихрь. Внезапно, перед ним появляется новый портал, мерцающий неестественным светом."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Сергей переступает порог портала, оставив разрушенный офис позади. Его окружает мрак и неизведанный мир демонов. Он чувствует, как атмосфера становится гуще, и темные тени начинают медленно подниматься."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": "./assets/s1_mainlook.png",
        "speaker": "Сергей (мысленно)",
        "text": "Настя, я обязательно найду тебя."
    },
    {
        "bgColor": "./assets/crash_office.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Портал закрывается, и Сергей исчезает в неизведанных просторах мира демонов, полный решимости спасти свою подругу и покончить с этим кошмаром."
    },
    {
        "bgColor": "./assets/sp.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "ГЛАВА 2"
    },
    {
        "bgColor": "./assets/sp.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Бариот, переступив порог портала, оказывается в темном мире демонов. Бариот начинает свой путь через темные и давящие просторы, направляясь к таинственной пещере, которая находилась впереди. Когда он приходит в пещеру, из темноты выходит огромный демон, выражение которого олицетворяет абсолютное зло."
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": './assets/demon2.png',
        "speaker": 'Демон',
        "text": "Кто это тут у нас? Свежее мясо? Обожаю человечинку"
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Бой начинается, и Бариот применяет свои магические навыки, пытаясь противостоять демону."
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": './assets/demon2.png',
        "speaker": 'Демон',
        "text": "Ты думаешь, что сможешь противостоять мне, смертный?"
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "Я пришел не за тобой, у меня нет времени на тебя."
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Битва продолжается, но демон оказывается сильным противником. В какой-то момент Бариот начинает проигрывать, и кажется, что надежда утрачена..."
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Но в этот момент внезапно появляется леприкон. Он направляет свою магию против демона, временно парализуя его."
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": "./assets/lep.png",
        "rightImage": null,
        "speaker": 'Леприкон(с насмешкой)',
        "text": "Ты что уже выдохся?"
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "У меня все идет по плану. Я только разминался, но раз ты здесь, то не буду забирать все веселье. Можешь присоединиться, я не буду против"
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Совместными усилиями Бариот и леприкон атакуют демона, и, наконец, они побеждают. Демон исчезает в темных тенях, а пещера становится тихой."
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": "./assets/lep.png",
        "rightImage": null,
        "speaker": 'Леприкон',
        "text": "Я нашел, где держат Настю. Это место окружено сильной магией демонов. Будь осторожен, туда попасть не просто."
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "Перенеси меня туда. Я готов рискнуть..."
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": "./assets/lep.png",
        "rightImage": null,
        "speaker": 'Леприкон(перебивая)',
        "text": "Не получится. Я потратил все энергию на заклинание."
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "Эхх... Ладно, показывай дорогу. Доберемся туда без помощи магии."
    },
    {
        "bgColor": "./assets/intro_sp.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Собравшись силами после схватки с демоном, они встают и начинают свой путь к месту заточения Насти."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "НЕКОТОРОЕ ВРЕМЯ СПУСТЯ..."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "И так, они движутся дальше, обсуждая свой план и готовясь к последующим испытаниям. Пока они идут, леприкон рассказывает Бариоту о колдуне, который может помочь им в победе над главным демоном, и о том, что им предстоит путешествие глубоко в лес."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": "./assets/lep.png",
        "rightImage": null,
        "speaker": 'Леприкон',
        "text": "Эй, Бариот! Ну, наверное, самое время спросить о том, почему ты вот так решился на это дело? Ты же понимаешь, что это почти самоубийство? Шансов на успех не так уж и много."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "А, не сейчас... Это не момент для философии."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": "./assets/lep.png",
        "rightImage": null,
        "speaker": 'Леприкон',
        "text": " Ага, я понимаю. Но ты же не думаешь, что я просто оставлю этот вопрос? Ну, что, расскажи, в чем подвох? К тому же, идти нам еще очень долго."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот(вздыхает)',
        "text": "Настя... Это сложно объяснить."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": './assets/lep.png',
        "rightImage": null,
        "speaker": 'Леприкон(злобно)',
        "text": "Подожди... Так ради этого ты меня тогда призывал в кинотеатре?Чтоб поразить?"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот(неловко)',
        "text": "..."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "Я надеялся на более эффектное появление...Прости"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": './assets/lep.png',
        "rightImage": null,
        "speaker": 'Леприкон(злобно)',
        "text": "'Прости'. Да у меня до сих пор шрам на лбу от той монетки"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": './assets/lep.png',
        "rightImage": null,
        "speaker": 'Леприкон(злобно)',
        "text": "Лално, это мы потом еще обсудим, когда всё это кончится"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": './assets/lep.png',
        "rightImage": null,
        "speaker": 'Леприкон',
        "text": "И давно у тебя эти чувства?"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "Сложно сказать..."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "Подобные чувства не появляются на поверхности. Они возникают мгновенно, где-то глубоко внутри. Оставаясь там невидимыми долгое время они усиливаются, используя восхитительную энергию..."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "Но потом наступает момент..."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "Момент, после которого весь привычный мир меняется. И те чувства, что были незамеченными и скрытыми, начинают проявляться. Они начинают наполнять тебя энергией, которая одновременно вдохновляет и опустошает тебя"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот(смеясь)',
        "text": "Также они побуждают делать странные глупости..."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": './assets/lep.png',
        "rightImage": null,
        "speaker": 'Леприкон',
        "text": "А что это за 'энергия'?"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот(смеясь)',
        "text": "О это потрясающая энергия. Она излучается ярким ослепительным светом ее взгляда. И этот свет завораживает, притягивает тебя. С ним уже не хочеться расставаться..."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": './assets/lep.png',
        "rightImage": null,
        "speaker": 'Леприкон',
        "text": "Звучит все это слишком сладко, И как говорят в вашем мире, это называется влюбиться "
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "'в нашем мире'?"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "мне нужно поменьше знакомить тебя с нашим миром"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": './assets/lep.png',
        "rightImage": null,
        "speaker": 'Леприкон',
        "text": "твои это мир или мой - неважно. Любовные чувства они везде одинаковые. У нее везде общие признаки и общие симптомы"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": './assets/s1_mainlook.png',
        "speaker": 'Бариот',
        "text": "О, смотри! Там впереди"
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "Вдруг они увидели в далеке небольшую деревушку. Они шли уже достаточно долго и надеялись переночевать в этом месте..."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "ГЛАВА 3 НАХОДИТСЯ В РАЗРАБОТКЕ... Также хотим сказать, что вы играете в единственную в мире настолько интерактивную игру, что вы сами можете построить сюжет..."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "И поэтому наша команда разработчиков приглашает вас на мини-свидание в эти выходные. В него входит два билета в кино, вкусный кофе, сладкие разговоры..."
    },
    {
        "bgColor": "./assets/road.png",
        "leftImage": null,
        "rightImage": null,
        "speaker": null,
        "text": "От нас мы отправим главного разработчика, он с радостью обсудит все нюансы игры. Да, порой он может выкинуть что-то странное, но у него есть кнопка выключения на шее, как у котят(но мы этого не говорили:) ). Ответ напишите в телеграмме"
    },
]
    
    

let main = document.querySelector('.background')




const start = function() {

    var i = 39
    render = `
            <div class="dialog-box" id="dialogBox">
                
                <p id="dialogText">${plot[i]['text']}</p>
                <button class="ellipsis-button" id="ellipsisButton" onclick="showRemainingText()">дальше</button>
            </div>
    `


main.style.backgroundImage = "url(" + plot[i]['bgColor'] + ")"

main.innerHTML = render


document.querySelector('.top-next-button').onclick = () => {

    
    i++
    main.style.backgroundImage = "url(" + plot[i]['bgColor'] + ")"
    main.innerHTML = ''
    main.innerHTML = `
    ${plot[i]['leftImage'] ? "<div class='character' id='character-left' style='background-image: url(" + plot[i]['leftImage'] + ")'></div>" : ""}

        
        <div class="dialog-box" id="dialogBox">
            <p><span class="name_span">${plot[i]['speaker'] ? plot[i]['speaker'] + ':' : ''}</span></p>
            <p id="dialogText">${plot[i]['text']}</p>
            <button class="ellipsis-button" id="ellipsisButton" onclick="showRemainingText()">дальше</button>
        </div>

    ${plot[i]['rightImage'] ? "<div class='character' id='character-right' style='background-image: url(" + plot[i]['rightImage'] + ")'></div>" : ""}
` 

// Обработка текста в диалоговом окне
let dialogTextElement = document.getElementById('dialogText');
let ellipsisButton = document.getElementById('ellipsisButton');
let remainingText = dialogTextElement.textContent.slice(150);

console.log(remainingText)

// Показать оставшийся текст при клике на кнопку "..."
window.showRemainingText = function () {
    dialogTextElement.textContent = remainingText.slice(0, 150);
    remainingText = remainingText.slice(150);

    if (remainingText.length === 0) {
        ellipsisButton.style.display = 'none';
    }
};

// Показать следующий текст при клике на кнопку "Дальше"
window.showNextText = function () {
    if (remainingText.length > 0) {
        dialogTextElement.textContent = remainingText.slice(0, 150);
        remainingText = remainingText.slice(150);

        if (remainingText.length > 0) {
            ellipsisButton.style.display = 'inline-block';
        } else {
            ellipsisButton.style.display = 'none';
        }
    }
};

// Ограничение текста в диалоговом окне на 150 символов
if (dialogTextElement.textContent.length > 150) {
    ellipsisButton.style.display = 'inline-block';
    dialogTextElement.textContent = dialogTextElement.textContent.slice(0, 150) + '...';
}
}

document.querySelector('.top-back-button').onclick = () => {

    
    i--
    main.style.backgroundImage = "url(" + plot[i]['bgColor'] + ")"
    main.innerHTML = ''
    main.innerHTML = `
    ${plot[i]['leftImage'] ? "<div class='character' id='character-left' style='background-image: url(" + plot[i]['leftImage'] + ")'></div>" : ""}

        
        <div class="dialog-box" id="dialogBox">
            <p><span class="name_span">${plot[i]['speaker'] ? plot[i]['speaker'] + ':' : ''}</span></p>
            <p id="dialogText">${plot[i]['text']}</p>
            <button class="ellipsis-button" id="ellipsisButton" onclick="showRemainingText()">дальше</button>
        </div>

    ${plot[i]['rightImage'] ? "<div class='character' id='character-right' style='background-image: url(" + plot[i]['rightImage'] + ")'></div>" : ""}
` 

// Обработка текста в диалоговом окне
let dialogTextElement = document.getElementById('dialogText');
let ellipsisButton = document.getElementById('ellipsisButton');
let remainingText = dialogTextElement.textContent.slice(150);

console.log(remainingText)

// Показать оставшийся текст при клике на кнопку "..."
window.showRemainingText = function () {
    dialogTextElement.textContent = remainingText.slice(0, 150);
    remainingText = remainingText.slice(150);

    if (remainingText.length === 0) {
        ellipsisButton.style.display = 'none';
    }
};

// Показать следующий текст при клике на кнопку "Дальше"
window.showNextText = function () {
    if (remainingText.length > 0) {
        dialogTextElement.textContent = remainingText.slice(0, 150);
        remainingText = remainingText.slice(150);

        if (remainingText.length > 0) {
            ellipsisButton.style.display = 'inline-block';
        } else {
            ellipsisButton.style.display = 'none';
        }
    }
};

// Ограничение текста в диалоговом окне на 150 символов
if (dialogTextElement.textContent.length > 150) {
    ellipsisButton.style.display = 'inline-block';
    dialogTextElement.textContent = dialogTextElement.textContent.slice(0, 150) + '...';
}
}


// Обработка текста в диалоговом окне
let dialogTextElement = document.getElementById('dialogText');
let ellipsisButton = document.getElementById('ellipsisButton');
let remainingText = dialogTextElement.textContent.slice(150);

console.log(remainingText)

// Показать оставшийся текст при клике на кнопку "..."
window.showRemainingText = function () {
    dialogTextElement.textContent = remainingText.slice(0, 150);
    remainingText = remainingText.slice(150);

    if (remainingText.length === 0) {
        ellipsisButton.style.display = 'none';
    }
};

// Показать следующий текст при клике на кнопку "Дальше"
window.showNextText = function () {
    if (remainingText.length > 0) {
        dialogTextElement.textContent = remainingText.slice(0, 150);
        remainingText = remainingText.slice(150);

        if (remainingText.length > 0) {
            ellipsisButton.style.display = 'inline-block';
        } else {
            ellipsisButton.style.display = 'none';
        }
    }
};

// Ограничение текста в диалоговом окне на 150 символов
if (dialogTextElement.textContent.length > 150) {
    ellipsisButton.style.display = 'inline-block';
    dialogTextElement.textContent = dialogTextElement.textContent.slice(0, 150) + '...';
}

}()
